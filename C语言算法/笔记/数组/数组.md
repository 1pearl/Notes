# æ•°ç»„

## 1.æ•°ç»„åŸºç¡€ç†è®º

**æ•°ç»„æ˜¯å­˜æ”¾åœ¨è¿ç»­å†…å­˜ç©ºé—´ä¸Šçš„ç›¸åŒç±»å‹æ•°æ®çš„é›†åˆã€‚**

æ•°ç»„å¯ä»¥æ–¹ä¾¿çš„é€šè¿‡ä¸‹æ ‡ç´¢å¼•çš„æ–¹å¼è·å–åˆ°ä¸‹æ ‡å¯¹åº”çš„æ•°æ®ã€‚

ä¸¾ä¸€ä¸ªå­—ç¬¦æ•°ç»„çš„ä¾‹å­ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š

![image-20250408095219897](C:\Users\free\AppData\Roaming\Typora\typora-user-images\image-20250408095219897.png)

éœ€è¦ä¸¤ç‚¹æ³¨æ„çš„æ˜¯

- **æ•°ç»„ä¸‹æ ‡éƒ½æ˜¯ä»0å¼€å§‹çš„ã€‚**
- **æ•°ç»„å†…å­˜ç©ºé—´çš„åœ°å€æ˜¯è¿ç»­çš„**

æ­£æ˜¯**å› ä¸ºæ•°ç»„åœ¨å†…å­˜ç©ºé—´çš„åœ°å€æ˜¯è¿ç»­çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨åˆ é™¤æˆ–è€…å¢æ·»å…ƒç´ çš„æ—¶å€™ï¼Œå°±éš¾å…è¦ç§»åŠ¨å…¶ä»–å…ƒç´ çš„åœ°å€ã€‚**

ä¾‹å¦‚åˆ é™¤ä¸‹æ ‡ä¸º3çš„å…ƒç´ ï¼Œéœ€è¦å¯¹ä¸‹æ ‡ä¸º3çš„å…ƒç´ åé¢çš„æ‰€æœ‰å…ƒç´ éƒ½è¦åšç§»åŠ¨æ“ä½œï¼Œå¦‚å›¾æ‰€ç¤ºï¼š

![image-20250408095254149](C:\Users\free\AppData\Roaming\Typora\typora-user-images\image-20250408095254149.png)

è€Œä¸”å¤§å®¶å¦‚æœä½¿ç”¨C++çš„è¯ï¼Œè¦æ³¨æ„vector å’Œ arrayçš„åŒºåˆ«ï¼Œvectorçš„åº•å±‚å®ç°æ˜¯arrayï¼Œä¸¥æ ¼æ¥è®²vectoræ˜¯å®¹å™¨ï¼Œä¸æ˜¯æ•°ç»„ã€‚

**æ•°ç»„çš„å…ƒç´ æ˜¯ä¸èƒ½åˆ çš„ï¼Œåªèƒ½è¦†ç›–ã€‚**

é‚£ä¹ˆäºŒç»´æ•°ç»„ç›´æ¥ä¸Šå›¾ï¼Œå¤§å®¶åº”è¯¥å°±çŸ¥é“æ€ä¹ˆå›äº‹äº†

![image-20250408095331230](C:\Users\free\AppData\Roaming\Typora\typora-user-images\image-20250408095331230.png)

**é‚£ä¹ˆäºŒç»´æ•°ç»„åœ¨å†…å­˜çš„ç©ºé—´åœ°å€æ˜¯è¿ç»­çš„ä¹ˆï¼Ÿ**

ä¸åŒç¼–ç¨‹è¯­è¨€çš„å†…å­˜ç®¡ç†æ˜¯ä¸ä¸€æ ·çš„ï¼Œä»¥C++ä¸ºä¾‹ï¼Œåœ¨C++ä¸­äºŒç»´æ•°ç»„æ˜¯è¿ç»­åˆ†å¸ƒçš„ã€‚

æˆ‘ä»¬æ¥åšä¸€ä¸ªå®éªŒï¼ŒC++æµ‹è¯•ä»£ç å¦‚ä¸‹ï¼š

```c++
void test_arr() {
    int array[2][3] = {
		{0, 1, 2},
		{3, 4, 5}
    };
    cout << &array[0][0] << " " << &array[0][1] << " " << &array[0][2] << endl;
    cout << &array[1][0] << " " << &array[1][1] << " " << &array[1][2] << endl;
}

int main() {
    test_arr();
}
```

```sql
0x7ffee4065820 0x7ffee4065824 0x7ffee4065828
0x7ffee406582c 0x7ffee4065830 0x7ffee4065834
```

æ³¨æ„åœ°å€ä¸º16è¿›åˆ¶ï¼Œå¯ä»¥çœ‹å‡ºäºŒç»´æ•°ç»„åœ°å€æ˜¯è¿ç»­ä¸€æ¡çº¿çš„ã€‚

ä¸€äº›å½•å‹å¯èƒ½çœ‹ä¸æ‡‚å†…å­˜åœ°å€ï¼Œæˆ‘å°±ç®€å•ä»‹ç»ä¸€ä¸‹ï¼Œ 0x7ffee4065820 ä¸ 0x7ffee4065824 å·®äº†ä¸€ä¸ª4ï¼Œå°±æ˜¯4ä¸ªå­—èŠ‚ï¼Œå› ä¸ºè¿™æ˜¯ä¸€ä¸ªintå‹çš„æ•°ç»„ï¼Œæ‰€ä»¥ä¸¤ä¸ªç›¸é‚»æ•°ç»„å…ƒç´ åœ°å€å·®4ä¸ªå­—èŠ‚ã€‚

0x7ffee4065828 ä¸ 0x7ffee406582c ä¹Ÿæ˜¯å·®äº†4ä¸ªå­—èŠ‚ï¼Œåœ¨16è¿›åˆ¶é‡Œ8 + 4 = cï¼Œcå°±æ˜¯12ã€‚

å¦‚å›¾ï¼š

![image-20250408095357774](C:\Users\free\AppData\Roaming\Typora\typora-user-images\image-20250408095357774.png)

**æ‰€ä»¥å¯ä»¥çœ‹å‡ºåœ¨C++ä¸­äºŒç»´æ•°ç»„åœ¨åœ°å€ç©ºé—´ä¸Šæ˜¯è¿ç»­çš„**ã€‚

åƒJavaæ˜¯æ²¡æœ‰æŒ‡é’ˆçš„ï¼ŒåŒæ—¶ä¹Ÿä¸å¯¹ç¨‹åºå‘˜æš´éœ²å…¶å…ƒç´ çš„åœ°å€ï¼Œå¯»å€æ“ä½œå®Œå…¨äº¤ç»™è™šæ‹Ÿæœºã€‚

æ‰€ä»¥çœ‹ä¸åˆ°æ¯ä¸ªå…ƒç´ çš„åœ°å€æƒ…å†µï¼Œè¿™é‡Œæˆ‘ä»¥Javaä¸ºä¾‹ï¼Œä¹Ÿåšä¸€ä¸ªå®éªŒã€‚

```java
public static void test_arr() {
    int[][] arr = {{1, 2, 3}, {3, 4, 5}, {6, 7, 8}, {9,9,9}};
    System.out.println(arr[0]);
    System.out.println(arr[1]);
    System.out.println(arr[2]);
    System.out.println(arr[3]);
}
```

```sql
[I@7852e922
[I@4e25154f
[I@70dea4e
[I@5c647e05
```

è¿™é‡Œçš„æ•°å€¼ä¹Ÿæ˜¯16è¿›åˆ¶ï¼Œè¿™ä¸æ˜¯çœŸæ­£çš„åœ°å€ï¼Œè€Œæ˜¯ç»è¿‡å¤„ç†è¿‡åçš„æ•°å€¼äº†ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥çœ‹å‡ºï¼ŒäºŒç»´æ•°ç»„çš„æ¯ä¸€è¡Œå¤´ç»“ç‚¹çš„åœ°å€æ˜¯æ²¡æœ‰è§„åˆ™çš„ï¼Œæ›´è°ˆä¸ä¸Šè¿ç»­ã€‚

æ‰€ä»¥Javaçš„äºŒç»´æ•°ç»„å¯èƒ½æ˜¯å¦‚ä¸‹æ’åˆ—çš„æ–¹å¼ï¼š

![image-20250408095429817](C:\Users\free\AppData\Roaming\Typora\typora-user-images\image-20250408095429817.png)

## 2. äºŒåˆ†æŸ¥æ‰¾

ç»™å®šä¸€ä¸ª n ä¸ªå…ƒç´ æœ‰åºçš„ï¼ˆå‡åºï¼‰æ•´å‹æ•°ç»„ `nums` å’Œä¸€ä¸ªç›®æ ‡å€¼ `target`  ï¼Œå†™ä¸€ä¸ªå‡½æ•°æœç´¢ `nums` ä¸­çš„ `target`ï¼Œå¦‚æœç›®æ ‡å€¼å­˜åœ¨è¿”å›ä¸‹æ ‡ï¼Œå¦åˆ™è¿”å› -1ã€‚

ç¤ºä¾‹ 1:

```c
è¾“å…¥: nums = [-1,0,3,5,9,12], target = 9     
è¾“å‡º: 4       
è§£é‡Š: 9 å‡ºç°åœ¨ nums ä¸­å¹¶ä¸”ä¸‹æ ‡ä¸º 4     
```

ç¤ºä¾‹2ï¼š

```c
è¾“å…¥: nums = [-1,0,3,5,9,12], target = 2     
è¾“å‡º: -1        
è§£é‡Š: 2 ä¸å­˜åœ¨ nums ä¸­å› æ­¤è¿”å› -1     
```

æç¤ºï¼š

- ä½ å¯ä»¥å‡è®¾ `nums` ä¸­çš„æ‰€æœ‰å…ƒç´ æ˜¯ä¸é‡å¤çš„ã€‚
- n å°†åœ¨ [1, 10000]ä¹‹é—´ã€‚
- `nums` çš„æ¯ä¸ªå…ƒç´ éƒ½å°†åœ¨ [-9999, 9999]ä¹‹é—´ã€‚

**é¢˜ç›®çš„å‰ææ˜¯æ•°ç»„ä¸ºæœ‰åºæ•°ç»„**ï¼ŒåŒæ—¶é¢˜ç›®è¿˜å¼ºè°ƒ**æ•°ç»„ä¸­æ— é‡å¤å…ƒç´ **ï¼Œå› ä¸ºä¸€æ—¦æœ‰é‡å¤å…ƒç´ ï¼Œä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾æ³•è¿”å›çš„å…ƒç´ ä¸‹æ ‡å¯èƒ½ä¸æ˜¯å”¯ä¸€çš„ï¼Œè¿™äº›éƒ½æ˜¯ä½¿ç”¨äºŒåˆ†æ³•çš„å‰ææ¡ä»¶ã€‚

### 1.é—­åŒºé—´[left,right]

ç¬¬ä¸€ç§å†™æ³•ï¼Œæˆ‘ä»¬å®šä¹‰ target æ˜¯åœ¨ä¸€ä¸ªåœ¨å·¦é—­å³é—­çš„åŒºé—´é‡Œï¼Œ**ä¹Ÿå°±æ˜¯[left, right] ï¼ˆè¿™ä¸ªå¾ˆé‡è¦éå¸¸é‡è¦ï¼‰**ã€‚

åŒºé—´çš„å®šä¹‰è¿™å°±å†³å®šäº†äºŒåˆ†æ³•çš„ä»£ç åº”è¯¥å¦‚ä½•å†™ï¼Œ**å› ä¸ºå®šä¹‰targetåœ¨[left, right]åŒºé—´ï¼Œæ‰€ä»¥æœ‰å¦‚ä¸‹ä¸¤ç‚¹ï¼š**

- while (left <= right) è¦ä½¿ç”¨ <= ï¼Œå› ä¸ºleft == rightæ˜¯æœ‰æ„ä¹‰çš„ï¼Œæ‰€ä»¥ä½¿ç”¨ <=
- if (nums[middle] > target) right è¦èµ‹å€¼ä¸º middle - 1ï¼Œå› ä¸ºå½“å‰è¿™ä¸ªnums[middle]ä¸€å®šä¸æ˜¯targetï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥è¦æŸ¥æ‰¾çš„å·¦åŒºé—´ç»“æŸä¸‹æ ‡ä½ç½®å°±æ˜¯ middle - 1

```c
//é—­åŒºé—´ [left,right]
int BinarySearch_1(int a[],int len,int target){
	int left = 0;
	int right = len - 1;
	int mid;
	while(left <= right) {
	   	mid = left + ((right - left)/2);
	   	if(a[mid] < target) {//[mid+1,right]
	   		left = mid + 1; 
		} else if(a[mid] > target) {//[left,mid-1]
			right = mid - 1;
		} else {
			return mid;
		}
	}
	return -1;
}
```

![image-20250408095626626](C:\Users\free\AppData\Roaming\Typora\typora-user-images\image-20250408095626626.png)

### 2.å·¦é—­å³å¼€[left,right)

å¦‚æœè¯´å®šä¹‰ target æ˜¯åœ¨ä¸€ä¸ªåœ¨å·¦é—­å³å¼€çš„åŒºé—´é‡Œï¼Œä¹Ÿå°±æ˜¯[left, right) ï¼Œé‚£ä¹ˆäºŒåˆ†æ³•çš„è¾¹ç•Œå¤„ç†æ–¹å¼åˆ™æˆªç„¶ä¸åŒã€‚

æœ‰å¦‚ä¸‹ä¸¤ç‚¹ï¼š

- while (left < right)ï¼Œè¿™é‡Œä½¿ç”¨ < ,å› ä¸ºleft == rightåœ¨åŒºé—´[left, right)æ˜¯æ²¡æœ‰æ„ä¹‰çš„
- if (nums[middle] > target) right æ›´æ–°ä¸º middleï¼Œå› ä¸ºå½“å‰nums[middle]ä¸ç­‰äºtargetï¼Œå»å·¦åŒºé—´ç»§ç»­å¯»æ‰¾ï¼Œè€Œå¯»æ‰¾åŒºé—´æ˜¯å·¦é—­å³å¼€åŒºé—´ï¼Œæ‰€ä»¥rightæ›´æ–°ä¸ºmiddleï¼Œå³ï¼šä¸‹ä¸€ä¸ªæŸ¥è¯¢åŒºé—´ä¸ä¼šå»æ¯”è¾ƒnums[middle]

```c
//å·¦é—­å³å¼€ [left,right)
int BinarySearch_2(int a[],int len,int target){
    int left = 0;
    int right = len;
	int mid;
    while(left<right){
    	mid = left + ((right - left)/2);
    	if(a[mid] < target){//[mid+1,right)
    		left = mid + 1;
		} else if(a[mid] > target){//[left,mid)
			right = mid;
		} else {
			return mid;
		}
	}
	return -1;
}
```

![image-20250408095647342](C:\Users\free\AppData\Roaming\Typora\typora-user-images\image-20250408095647342.png)

## 3.ç§»é™¤å…ƒç´ 

ç»™ä½ ä¸€ä¸ªæ•°ç»„ `nums` å’Œä¸€ä¸ªå€¼ `val`ï¼Œä½ éœ€è¦ åŸåœ° ç§»é™¤æ‰€æœ‰æ•°å€¼ç­‰äº `val` çš„å…ƒç´ ï¼Œå¹¶è¿”å›ç§»é™¤åæ•°ç»„çš„æ–°é•¿åº¦ã€‚

ä¸è¦ä½¿ç”¨é¢å¤–çš„æ•°ç»„ç©ºé—´ï¼Œä½ å¿…é¡»ä»…ä½¿ç”¨ `O(1)` é¢å¤–ç©ºé—´å¹¶**åŸåœ°**ä¿®æ”¹è¾“å…¥æ•°ç»„ã€‚

å…ƒç´ çš„é¡ºåºå¯ä»¥æ”¹å˜ã€‚ä½ ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åé¢çš„å…ƒç´ ã€‚

ç¤ºä¾‹ 1: ç»™å®š `nums = [3,2,2,3], val = 3`, å‡½æ•°åº”è¯¥è¿”å›æ–°çš„é•¿åº¦ 2, å¹¶ä¸” `nums` ä¸­çš„å‰ä¸¤ä¸ªå…ƒç´ å‡ä¸º 2ã€‚ ä½ ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åé¢çš„å…ƒç´ ã€‚

ç¤ºä¾‹ 2: ç»™å®š `nums = [0,1,2,2,3,0,4,2], val = 2`, å‡½æ•°åº”è¯¥è¿”å›æ–°çš„é•¿åº¦ 5, å¹¶ä¸” `nums` ä¸­çš„å‰äº”ä¸ªå…ƒç´ ä¸º 0, 1, 3, 0, 4ã€‚

**ä½ ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åé¢çš„å…ƒç´ ã€‚**

### 1.æš´åŠ›

```c
//æš´åŠ› 
int removeElement_1(int a[],int len,int target){
	int i,j;
	for(i=0;i<len;i++){
		if(a[i] == target){
			for(j=i+1;j<len;j++){
			    a[j-1] = a[j];
			}
			i--;
			len--;						
		}
	}
	return len;
}
```

![27.ç§»é™¤å…ƒç´ -æš´åŠ›è§£æ³•](https://code-thinking.cdn.bcebos.com/gifs/27.%E7%A7%BB%E9%99%A4%E5%85%83%E7%B4%A0-%E6%9A%B4%E5%8A%9B%E8%A7%A3%E6%B3%95.gif)

### 2.å¿«æ…¢æŒ‡é’ˆ

```c
//å¿«æ…¢æŒ‡é’ˆ
int  removeElement_2(int a[],int len,int target){
    int slowPoint=0,fastPoint=0;
    for(fastPoint = 0;fastPoint<len;fastPoint++){
    	if(a[fastPoint] != target){
    		a[slowPoint++] = a[fastPoint];
		}
	}
	return slowPoint;
}
```

![27.ç§»é™¤å…ƒç´ -åŒæŒ‡é’ˆæ³•](https://code-thinking.cdn.bcebos.com/gifs/27.%E7%A7%BB%E9%99%A4%E5%85%83%E7%B4%A0-%E5%8F%8C%E6%8C%87%E9%92%88%E6%B3%95.gif)

## 4.æœ‰åºæ•°ç»„çš„å¹³æ–¹

ç»™ä½ ä¸€ä¸ªæŒ‰ éé€’å‡é¡ºåº æ’åºçš„æ•´æ•°æ•°ç»„ `nums`ï¼Œè¿”å› æ¯ä¸ªæ•°å­—çš„å¹³æ–¹ ç»„æˆçš„æ–°æ•°ç»„ï¼Œè¦æ±‚ä¹ŸæŒ‰ éé€’å‡é¡ºåº æ’åºã€‚

ç¤ºä¾‹ 1ï¼š

- è¾“å…¥ï¼š`nums` = [-4,-1,0,3,10]
- è¾“å‡ºï¼š[0,1,9,16,100]
- è§£é‡Šï¼šå¹³æ–¹åï¼Œæ•°ç»„å˜ä¸º [16,1,0,9,100]ï¼Œæ’åºåï¼Œæ•°ç»„å˜ä¸º [0,1,9,16,100]

ç¤ºä¾‹ 2ï¼š

- è¾“å…¥ï¼š`nums` = [-7,-3,2,3,11]
- è¾“å‡ºï¼š[4,9,9,49,121]

### 1.åŒæŒ‡é’ˆ

```c
#include <stdio.h>
#include <stdlib.h>

/**
 * Note: The returned array must be malloced, assume caller calls free().
 */
int* sortedSquares(int* nums, int numsSize, int* returnSize) {
    *returnSize = numsSize;//è¿”å›çš„æ•°ç»„å¤§å°å°±æ˜¯åŸæ•°ç»„çš„å¤§å°
    int l = 0;
	int r = numsSize - 1; 
	int i;
	int* ans = (int*)malloc(numsSize*sizeof(int));
	for(i=numsSize-1; i>=0; i--){
        int lSquare = nums[l]*nums[l];
		int rSquare = nums[r]*nums[r];
		if(lSquare < rSquare) {
			ans[i] = rSquare;
			r--;
		} else {
			ans[i] = lSquare;
			l++;
		}
	}
	return ans; 
}

int main(){
    int a[] = {-9,-7,-1,0,1,2,3};
    int ans_size=0;
	int* ans = sortedSquares(a,sizeof(a)/sizeof(a[0]),&ans_size);
	int i;
	printf("%d\n",ans_size);
	for(i=0;i<ans_size;i++){
		printf("%d ",ans[i]);
	} 	
	return 0;
} 
```

æ•°ç»„å…¶å®æ˜¯æœ‰åºçš„ï¼Œ åªä¸è¿‡è´Ÿæ•°å¹³æ–¹ä¹‹åå¯èƒ½æˆä¸ºæœ€å¤§æ•°äº†ã€‚

é‚£ä¹ˆæ•°ç»„å¹³æ–¹çš„æœ€å¤§å€¼å°±åœ¨æ•°ç»„çš„ä¸¤ç«¯ï¼Œä¸æ˜¯æœ€å·¦è¾¹å°±æ˜¯æœ€å³è¾¹ï¼Œä¸å¯èƒ½æ˜¯ä¸­é—´ã€‚

æ­¤æ—¶å¯ä»¥è€ƒè™‘åŒæŒ‡é’ˆæ³•äº†ï¼Œ`i`æŒ‡å‘èµ·å§‹ä½ç½®ï¼Œ`j`æŒ‡å‘ç»ˆæ­¢ä½ç½®ã€‚

å®šä¹‰ä¸€ä¸ªæ–°æ•°ç»„resultï¼Œå’ŒAæ•°ç»„ä¸€æ ·çš„å¤§å°ï¼Œè®©`k`æŒ‡å‘resultæ•°ç»„ç»ˆæ­¢ä½ç½®ã€‚

å¦‚æœ`A[i] * A[i] < A[j] * A[j]` é‚£ä¹ˆ`result[k--] = A[j] * A[j];` ã€‚

å¦‚æœ`A[i] * A[i] >= A[j] * A[j]` é‚£ä¹ˆ`result[k--] = A[i] * A[i];` ã€‚

å¦‚åŠ¨ç”»æ‰€ç¤ºï¼š

![img](https://code-thinking.cdn.bcebos.com/gifs/977.%E6%9C%89%E5%BA%8F%E6%95%B0%E7%BB%84%E7%9A%84%E5%B9%B3%E6%96%B9.gif)

## 5.é•¿åº¦æœ€å°çš„å­æ•°ç»„

ç»™å®šä¸€ä¸ªå«æœ‰ n ä¸ªæ­£æ•´æ•°çš„æ•°ç»„å’Œä¸€ä¸ªæ­£æ•´æ•° s ï¼Œæ‰¾å‡ºè¯¥æ•°ç»„ä¸­æ»¡è¶³å…¶å’Œ â‰¥ s çš„é•¿åº¦æœ€å°çš„ è¿ç»­ å­æ•°ç»„ï¼Œå¹¶è¿”å›å…¶é•¿åº¦ã€‚å¦‚æœä¸å­˜åœ¨ç¬¦åˆæ¡ä»¶çš„å­æ•°ç»„ï¼Œè¿”å› 0ã€‚

ç¤ºä¾‹ï¼š

- è¾“å…¥ï¼šs = 7, `nums` = [2,3,1,2,4,3]
- è¾“å‡ºï¼š2
- è§£é‡Šï¼šå­æ•°ç»„ [4,3] æ˜¯è¯¥æ¡ä»¶ä¸‹çš„é•¿åº¦æœ€å°çš„å­æ•°ç»„ã€‚

æç¤ºï¼š

- 1 <= target <= 10^9
- 1 <= `nums.length` <= 10^5
- 1 <= `nums[i]` <= 10^5

### 1.æš´åŠ›

è¿™é“é¢˜ç›®æš´åŠ›è§£æ³•å½“ç„¶æ˜¯ ä¸¤ä¸ªforå¾ªç¯ï¼Œç„¶åä¸æ–­çš„å¯»æ‰¾ç¬¦åˆæ¡ä»¶çš„å­åºåˆ—ï¼Œæ—¶é—´å¤æ‚åº¦å¾ˆæ˜æ˜¾æ˜¯O(n^2)ã€‚

```c
#include <stdio.h>
#include <stdint.h>

int minSubArrayLen_1(int target, int* nums, int numsSize) {
    int len = INT32_MAX;
    int i,j;
    for(i=0;i<numsSize;i++){
    	int sum = 0;
    	for(j=i;j<numsSize;j++){
    		sum += nums[j];
    		if(sum >= target){
    			int arrSubLen = j-i+1;
				len = len < arrSubLen ? len : arrSubLen;
				break; 
			}
		}
	}
	return len == INT32_MAX ? 0 : len;
}
```

- æ—¶é—´å¤æ‚åº¦ï¼šO(n^2)
- ç©ºé—´å¤æ‚åº¦ï¼šO(1)

åé¢åŠ›æ‰£æ›´æ–°äº†æ•°æ®ï¼Œæš´åŠ›è§£æ³•å·²ç»è¶…æ—¶äº†ã€‚

### 2.**æ»‘åŠ¨çª—å£**ã€‚

æ‰€è°“æ»‘åŠ¨çª—å£ï¼Œ**å°±æ˜¯ä¸æ–­çš„è°ƒèŠ‚å­åºåˆ—çš„èµ·å§‹ä½ç½®å’Œç»ˆæ­¢ä½ç½®ï¼Œä»è€Œå¾—å‡ºæˆ‘ä»¬è¦æƒ³çš„ç»“æœ**ã€‚

åœ¨æš´åŠ›è§£æ³•ä¸­ï¼Œæ˜¯ä¸€ä¸ªforå¾ªç¯æ»‘åŠ¨çª—å£çš„èµ·å§‹ä½ç½®ï¼Œä¸€ä¸ªforå¾ªç¯ä¸ºæ»‘åŠ¨çª—å£çš„ç»ˆæ­¢ä½ç½®ï¼Œç”¨ä¸¤ä¸ªforå¾ªç¯ å®Œæˆäº†ä¸€ä¸ªä¸æ–­æœç´¢åŒºé—´çš„è¿‡ç¨‹ã€‚

é‚£ä¹ˆæ»‘åŠ¨çª—å£å¦‚ä½•ç”¨ä¸€ä¸ªforå¾ªç¯æ¥å®Œæˆè¿™ä¸ªæ“ä½œå‘¢ã€‚

é¦–å…ˆè¦æ€è€ƒ å¦‚æœç”¨ä¸€ä¸ªforå¾ªç¯ï¼Œé‚£ä¹ˆåº”è¯¥è¡¨ç¤º æ»‘åŠ¨çª—å£çš„èµ·å§‹ä½ç½®ï¼Œè¿˜æ˜¯ç»ˆæ­¢ä½ç½®ã€‚

å¦‚æœåªç”¨ä¸€ä¸ªforå¾ªç¯æ¥è¡¨ç¤º æ»‘åŠ¨çª—å£çš„èµ·å§‹ä½ç½®ï¼Œé‚£ä¹ˆå¦‚ä½•éå†å‰©ä¸‹çš„ç»ˆæ­¢ä½ç½®ï¼Ÿ

æ­¤æ—¶éš¾å…å†æ¬¡é™·å…¥ æš´åŠ›è§£æ³•çš„æ€ªåœˆã€‚

æ‰€ä»¥ åªç”¨ä¸€ä¸ªforå¾ªç¯ï¼Œé‚£ä¹ˆè¿™ä¸ªå¾ªç¯çš„ç´¢å¼•ï¼Œä¸€å®šæ˜¯è¡¨ç¤º æ»‘åŠ¨çª—å£çš„ç»ˆæ­¢ä½ç½®ã€‚

é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œ æ»‘åŠ¨çª—å£çš„èµ·å§‹ä½ç½®å¦‚ä½•ç§»åŠ¨å‘¢ï¼Ÿ

è¿™é‡Œè¿˜æ˜¯ä»¥é¢˜ç›®ä¸­çš„ç¤ºä¾‹æ¥ä¸¾ä¾‹ï¼Œs=7ï¼Œ æ•°ç»„æ˜¯ 2ï¼Œ3ï¼Œ1ï¼Œ2ï¼Œ4ï¼Œ3ï¼Œæ¥çœ‹ä¸€ä¸‹æŸ¥æ‰¾çš„è¿‡ç¨‹ï¼š

```c
int minSubArrayLen_2(int target, int* nums, int numsSize) {
	int minLen = INT32_MAX;
	int i=0,j=0;//iä½œä¸ºç»ˆæ­¢è¾¹ç•Œ,jä¸ºèµ·å§‹è¾¹ç•Œ 
	int sum = 0;
	for(;i<numsSize;i++){
		 sum+=nums[i];
		 while(sum>=target){
		 	int SubArrLen = i-j+1;
		 	minLen = minLen < SubArrLen ? minLen : SubArrLen;
			sum -= nums[j];
			j++;  
		 }
	}
	return minLen == INT32_MAX ? 0:minLen;
}

int main(){
	int a[] = {2,3,0,1,4,1,2,3};
	int target = 90;
	int re = minSubArrayLen_2(target,a,sizeof(a)/sizeof(a[0]));
	printf("æœ€å°å­æ•°ç»„é•¿åº¦ä¸º:%d\n",re); 
	return 0;
} 
```

![209.é•¿åº¦æœ€å°çš„å­æ•°ç»„](https://code-thinking.cdn.bcebos.com/gifs/209.%E9%95%BF%E5%BA%A6%E6%9C%80%E5%B0%8F%E7%9A%84%E5%AD%90%E6%95%B0%E7%BB%84.gif)

æœ€åæ‰¾åˆ° 4ï¼Œ3 æ˜¯æœ€çŸ­è·ç¦»ã€‚

å…¶å®ä»åŠ¨ç”»ä¸­å¯ä»¥å‘ç°æ»‘åŠ¨çª—å£ä¹Ÿå¯ä»¥ç†è§£ä¸ºåŒæŒ‡é’ˆæ³•çš„ä¸€ç§ï¼åªä¸è¿‡è¿™ç§è§£æ³•æ›´åƒæ˜¯ä¸€ä¸ªçª—å£çš„ç§»åŠ¨ï¼Œæ‰€ä»¥å«åšæ»‘åŠ¨çª—å£æ›´é€‚åˆä¸€äº›ã€‚

åœ¨æœ¬é¢˜ä¸­å®ç°æ»‘åŠ¨çª—å£ï¼Œä¸»è¦ç¡®å®šå¦‚ä¸‹ä¸‰ç‚¹ï¼š

- çª—å£å†…æ˜¯ä»€ä¹ˆï¼Ÿ
- å¦‚ä½•ç§»åŠ¨çª—å£çš„èµ·å§‹ä½ç½®ï¼Ÿ
- å¦‚ä½•ç§»åŠ¨çª—å£çš„ç»“æŸä½ç½®ï¼Ÿ

çª—å£å°±æ˜¯ æ»¡è¶³å…¶å’Œ â‰¥ s çš„é•¿åº¦æœ€å°çš„ è¿ç»­ å­æ•°ç»„ã€‚

çª—å£çš„èµ·å§‹ä½ç½®å¦‚ä½•ç§»åŠ¨ï¼šå¦‚æœå½“å‰çª—å£çš„å€¼å¤§äºç­‰äºsäº†ï¼Œçª—å£å°±è¦å‘å‰ç§»åŠ¨äº†ï¼ˆä¹Ÿå°±æ˜¯è¯¥ç¼©å°äº†ï¼‰ã€‚

çª—å£çš„ç»“æŸä½ç½®å¦‚ä½•ç§»åŠ¨ï¼šçª—å£çš„ç»“æŸä½ç½®å°±æ˜¯éå†æ•°ç»„çš„æŒ‡é’ˆï¼Œä¹Ÿå°±æ˜¯forå¾ªç¯é‡Œçš„ç´¢å¼•ã€‚

è§£é¢˜çš„å…³é”®åœ¨äº çª—å£çš„èµ·å§‹ä½ç½®å¦‚ä½•ç§»åŠ¨ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š

![image-20250411141647130](æ•°ç»„.assets/image-20250411141647130.png)

å¯ä»¥å‘ç°**æ»‘åŠ¨çª—å£çš„ç²¾å¦™ä¹‹å¤„åœ¨äºæ ¹æ®å½“å‰å­åºåˆ—å’Œå¤§å°çš„æƒ…å†µï¼Œä¸æ–­è°ƒèŠ‚å­åºåˆ—çš„èµ·å§‹ä½ç½®ã€‚ä»è€Œå°†O(n^2)æš´åŠ›è§£æ³•é™ä¸ºO(n)ã€‚**

## 6.èºæ—‹çŸ©é˜µII

ç»™å®šä¸€ä¸ªæ­£æ•´æ•° nï¼Œç”Ÿæˆä¸€ä¸ªåŒ…å« 1 åˆ° `n^2` æ‰€æœ‰å…ƒç´ ï¼Œä¸”å…ƒç´ æŒ‰é¡ºæ—¶é’ˆé¡ºåºèºæ—‹æ’åˆ—çš„æ­£æ–¹å½¢çŸ©é˜µã€‚

ç¤ºä¾‹:

è¾“å…¥: 3 è¾“å‡º: [ [ 1, 2, 3 ], [ 8, 9, 4 ], [ 7, 6, 5 ] ]

![image-20250411142308688](æ•°ç»„.assets/image-20250411142308688.png)

è¿™é“é¢˜ç›®å¯ä»¥è¯´åœ¨é¢è¯•ä¸­å‡ºç°é¢‘ç‡è¾ƒé«˜çš„é¢˜ç›®ï¼Œ**æœ¬é¢˜å¹¶ä¸æ¶‰åŠåˆ°ä»€ä¹ˆç®—æ³•ï¼Œå°±æ˜¯æ¨¡æ‹Ÿè¿‡ç¨‹ï¼Œä½†å´ååˆ†è€ƒå¯Ÿå¯¹ä»£ç çš„æŒæ§èƒ½åŠ›ã€‚**

è¦å¦‚ä½•ç”»å‡ºè¿™ä¸ªèºæ—‹æ’åˆ—çš„æ­£æ–¹å½¢çŸ©é˜µå‘¢ï¼Ÿ

ç›¸ä¿¡å¾ˆå¤šåŒå­¦åˆšå¼€å§‹åšè¿™ç§é¢˜ç›®çš„æ—¶å€™ï¼Œä¸Šæ¥å°±æ˜¯ä¸€æ³¢åˆ¤æ–­çŒ›å¦‚è™ã€‚

ç»“æœè¿è¡Œçš„æ—¶å€™å„ç§é—®é¢˜ï¼Œç„¶åå¼€å§‹å„ç§ä¿®ä¿®è¡¥è¡¥ï¼Œæœ€åå‘ç°æ”¹äº†è¿™é‡Œé‚£é‡Œæœ‰é—®é¢˜ï¼Œæ”¹äº†é‚£é‡Œè¿™é‡Œåˆè·‘ä¸èµ·æ¥äº†ã€‚

å¤§å®¶è¿˜è®°å¾—æˆ‘ä»¬åœ¨è¿™ç¯‡æ–‡ç« [æ•°ç»„ï¼šæ¯æ¬¡é‡åˆ°äºŒåˆ†æ³•ï¼Œéƒ½æ˜¯ä¸€çœ‹å°±ä¼šï¼Œä¸€å†™å°±åºŸ (opens new window)](https://programmercarl.com/0704.äºŒåˆ†æŸ¥æ‰¾.html)ä¸­è®²è§£äº†äºŒåˆ†æ³•ï¼Œæåˆ°å¦‚æœè¦å†™å‡ºæ­£ç¡®çš„äºŒåˆ†æ³•ä¸€å®šè¦åšæŒ**å¾ªç¯ä¸å˜é‡åŸåˆ™**ã€‚

è€Œæ±‚è§£æœ¬é¢˜ä¾ç„¶æ˜¯è¦åšæŒå¾ªç¯ä¸å˜é‡åŸåˆ™ã€‚

æ¨¡æ‹Ÿé¡ºæ—¶é’ˆç”»çŸ©é˜µçš„è¿‡ç¨‹:

- å¡«å……ä¸Šè¡Œä»å·¦åˆ°å³
- å¡«å……å³åˆ—ä»ä¸Šåˆ°ä¸‹
- å¡«å……ä¸‹è¡Œä»å³åˆ°å·¦
- å¡«å……å·¦åˆ—ä»ä¸‹åˆ°ä¸Š

ç”±å¤–å‘å†…ä¸€åœˆä¸€åœˆè¿™ä¹ˆç”»ä¸‹å»ã€‚

å¯ä»¥å‘ç°è¿™é‡Œçš„è¾¹ç•Œæ¡ä»¶éå¸¸å¤šï¼Œåœ¨ä¸€ä¸ªå¾ªç¯ä¸­ï¼Œå¦‚æ­¤å¤šçš„è¾¹ç•Œæ¡ä»¶ï¼Œå¦‚æœä¸æŒ‰ç…§å›ºå®šè§„åˆ™æ¥éå†ï¼Œé‚£å°±æ˜¯**ä¸€è¿›å¾ªç¯æ·±ä¼¼æµ·ï¼Œä»æ­¤offeræ˜¯è·¯äºº**ã€‚

è¿™é‡Œä¸€åœˆä¸‹æ¥ï¼Œæˆ‘ä»¬è¦ç”»æ¯å››æ¡è¾¹ï¼Œè¿™å››æ¡è¾¹æ€ä¹ˆç”»ï¼Œæ¯ç”»ä¸€æ¡è¾¹éƒ½è¦åšæŒä¸€è‡´çš„å·¦é—­å³å¼€ï¼Œæˆ–è€…å·¦å¼€å³é—­çš„åŸåˆ™ï¼Œè¿™æ ·è¿™ä¸€åœˆæ‰èƒ½æŒ‰ç…§ç»Ÿä¸€çš„è§„åˆ™ç”»ä¸‹æ¥ã€‚

é‚£ä¹ˆæˆ‘æŒ‰ç…§å·¦é—­å³å¼€çš„åŸåˆ™ï¼Œæ¥ç”»ä¸€åœˆï¼Œå¤§å®¶çœ‹ä¸€ä¸‹ï¼š

![image-20250411141834247](æ•°ç»„.assets/image-20250411141834247.png)

è¿™é‡Œæ¯ä¸€ç§é¢œè‰²ï¼Œä»£è¡¨ä¸€æ¡è¾¹ï¼Œæˆ‘ä»¬éå†çš„é•¿åº¦ï¼Œå¯ä»¥çœ‹å‡ºæ¯ä¸€ä¸ªæ‹è§’å¤„çš„å¤„ç†è§„åˆ™ï¼Œæ‹è§’å¤„è®©ç»™æ–°çš„ä¸€æ¡è¾¹æ¥ç»§ç»­ç”»ã€‚

è¿™ä¹Ÿæ˜¯åšæŒäº†æ¯æ¡è¾¹å·¦é—­å³å¼€çš„åŸåˆ™ã€‚

ä¸€äº›åŒå­¦åšè¿™é“é¢˜ç›®ä¹‹æ‰€ä»¥ä¸€ç›´å†™ä¸å¥½ï¼Œä»£ç è¶Šå†™è¶Šä¹±ã€‚

å°±æ˜¯å› ä¸ºåœ¨ç”»æ¯ä¸€æ¡è¾¹çš„æ—¶å€™ï¼Œä¸€ä¼šå·¦å¼€å³é—­ï¼Œä¸€ä¼šå·¦é—­å³é—­ï¼Œä¸€ä¼šåˆæ¥å·¦é—­å³å¼€ï¼Œå²‚èƒ½ä¸ä¹±ã€‚

ä»£ç å¦‚ä¸‹ï¼Œå·²ç»è¯¦ç»†æ³¨é‡Šäº†æ¯ä¸€æ­¥çš„ç›®çš„ï¼Œå¯ä»¥çœ‹å‡ºwhileå¾ªç¯é‡Œåˆ¤æ–­çš„æƒ…å†µæ˜¯å¾ˆå¤šçš„ï¼Œä»£ç é‡Œå¤„ç†çš„åŸåˆ™ä¹Ÿæ˜¯ç»Ÿä¸€çš„å·¦é—­å³å¼€ã€‚

### 1.æ¨¡æ‹Ÿ

```c
#include <stdio.h>
#include <stdlib.h>

int** generateMatrix(int n, int* returnSize, int** returnColumnSizes) {
    *returnSize = n;
    int** ans = (int**)malloc(sizeof(int*) * n);
    *returnColumnSizes = (int*)malloc(sizeof(int) * n);

    for (int i = 0; i < n; i++) {
        ans[i] = (int*)malloc(sizeof(int) * n);
        (*returnColumnSizes)[i] = n;
    }

    int startX = 0, startY = 0;
    int offset = 1;
    int mid = n / 2;
    int loop = n / 2;
    int count = 1;
    int i, j;

    while (loop--) {
        i = startX;
        j = startY;

        // ä¸Š
        for (; j < n - offset; j++) ans[i][j] = count++;
        // å³
        for (; i < n - offset; i++) ans[i][j] = count++;
        // ä¸‹
        for (; j > startY; j--) ans[i][j] = count++;
        // å·¦
        for (; i > startX; i--) ans[i][j] = count++;

        startX++;
        startY++;
        offset++;
    }

    if (n % 2) ans[mid][mid] = count;
    return ans;
}

int main() {
    int n;
    printf("è¯·è¾“å…¥ä¸€ä¸ªæ•°:\n");
    scanf("%d", &n);

    int returnSize;
    int* returnColumnSizes;
    int** ans = generateMatrix(n, &returnSize, &returnColumnSizes);

    for (int i = 0; i < returnSize; i++) {
        for (int j = 0; j < returnColumnSizes[i]; j++) {
            printf("%3d ", ans[i][j]);
        }
        printf("\n");
        free(ans[i]);
    }

    free(ans);
    free(returnColumnSizes);
    return 0;
}
```

- æ—¶é—´å¤æ‚åº¦ O(n^2): æ¨¡æ‹Ÿéå†äºŒç»´çŸ©é˜µçš„æ—¶é—´
- ç©ºé—´å¤æ‚åº¦ O(1)

## 7.åŒºé—´å’Œ

ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ Arrayï¼Œè¯·è®¡ç®—è¯¥æ•°ç»„åœ¨æ¯ä¸ªæŒ‡å®šåŒºé—´å†…å…ƒç´ çš„æ€»å’Œã€‚

è¾“å…¥æè¿°

ç¬¬ä¸€è¡Œè¾“å…¥ä¸ºæ•´æ•°æ•°ç»„ Array çš„é•¿åº¦ nï¼Œæ¥ä¸‹æ¥ n è¡Œï¼Œæ¯è¡Œä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ•°ç»„çš„å…ƒç´ ã€‚éšåçš„è¾“å…¥ä¸ºéœ€è¦è®¡ç®—æ€»å’Œçš„åŒºé—´ï¼Œç›´è‡³æ–‡ä»¶ç»“æŸã€‚

è¾“å‡ºæè¿°

è¾“å‡ºæ¯ä¸ªæŒ‡å®šåŒºé—´å†…å…ƒç´ çš„æ€»å’Œã€‚

è¾“å…¥ç¤ºä¾‹

```text
5
1
2
3
4
5
0 1
1 3
```

è¾“å‡ºç¤ºä¾‹

```text
3
9
```

æ•°æ®èŒƒå›´ï¼š

0 < n <= 100000

### 1.æš´åŠ›

```c
#include <stdio.h>
#include <stdlib.h>

int main() {
    int n;
    scanf("%d", &n);

    int* arr = (int*)malloc(sizeof(int) * n);
    if (!arr) {
        printf("å†…å­˜åˆ†é…å¤±è´¥\n");
        return 1;
    }

    for (int i = 0; i < n; i++) {
        scanf("%d", &arr[i]);
    }

    int a, b;
    while (scanf("%d %d", &a, &b) == 2) {
        int sum = 0;
        if (a < 0 || b >= n || a > b) {
            printf("åŒºé—´ä¸åˆæ³•\n");
            continue;
        }
        for (int i = a; i <= b; i++) {
            sum += arr[i];
        }
        printf("%d\n", sum);
    }

    free(arr);
    return 0;
}

```

ä»£ç ä¸€æäº¤ï¼Œå‘ç°è¶…æ—¶äº†.....

æˆ‘åœ¨åˆ¶ä½œæœ¬é¢˜çš„æ—¶å€™ï¼Œç‰¹åˆ«åˆ¶ä½œäº†å¤§æ•°æ®é‡æŸ¥è¯¢ï¼Œå¡çš„å°±æ˜¯è¿™ç§æš´åŠ›è§£æ³•ã€‚

æ¥ä¸¾ä¸€ä¸ªæç«¯çš„ä¾‹å­ï¼Œå¦‚æœæˆ‘æŸ¥è¯¢mæ¬¡ï¼Œæ¯æ¬¡æŸ¥è¯¢çš„èŒƒå›´éƒ½æ˜¯ä»0 åˆ° n - 1

é‚£ä¹ˆè¯¥ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(n * m) m æ˜¯æŸ¥è¯¢çš„æ¬¡æ•°

å¦‚æœæŸ¥è¯¢æ¬¡æ•°éå¸¸å¤§çš„è¯ï¼Œè¿™ä¸ªæ—¶é—´å¤æ‚åº¦ä¹Ÿæ˜¯éå¸¸å¤§çš„ã€‚

æ¥ä¸‹æ¥æˆ‘ä»¬æ¥å¼•å…¥å‰ç¼€å’Œï¼Œçœ‹çœ‹å‰ç¼€å’Œå¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜ã€‚

å‰ç¼€å’Œçš„æ€æƒ³æ˜¯é‡å¤åˆ©ç”¨è®¡ç®—è¿‡çš„å­æ•°ç»„ä¹‹å’Œï¼Œä»è€Œé™ä½åŒºé—´æŸ¥è¯¢éœ€è¦ç´¯åŠ è®¡ç®—çš„æ¬¡æ•°ã€‚

**å‰ç¼€å’Œ åœ¨æ¶‰åŠè®¡ç®—åŒºé—´å’Œçš„é—®é¢˜æ—¶éå¸¸æœ‰ç”¨**ï¼

å‰ç¼€å’Œçš„æ€è·¯å…¶å®å¾ˆç®€å•ï¼Œæˆ‘ç»™å¤§å®¶ä¸¾ä¸ªä¾‹å­å¾ˆå®¹æ˜“å°±æ‡‚äº†ã€‚

ä¾‹å¦‚ï¼Œæˆ‘ä»¬è¦ç»Ÿè®¡ vec[i] è¿™ä¸ªæ•°ç»„ä¸Šçš„åŒºé—´å’Œã€‚

æˆ‘ä»¬å…ˆåšç´¯åŠ ï¼Œå³ p[i] è¡¨ç¤º ä¸‹æ ‡ 0 åˆ° i çš„ vec[i] ç´¯åŠ  ä¹‹å’Œã€‚

å¦‚å›¾ï¼š

![image-20250411164456461](æ•°ç»„.assets/image-20250411164456461.png)

å¦‚æœï¼Œæˆ‘ä»¬æƒ³ç»Ÿè®¡ï¼Œåœ¨vecæ•°ç»„ä¸Š ä¸‹æ ‡ 2 åˆ°ä¸‹æ ‡ 5 ä¹‹é—´çš„ç´¯åŠ å’Œï¼Œé‚£æ˜¯ä¸æ˜¯å°±ç”¨ p[5] - p[1] å°±å¯ä»¥äº†ã€‚

ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ

```
p[1] = vec[0] + vec[1];
p[5] = vec[0] + vec[1] + vec[2] + vec[3] + vec[4] + vec[5];
p[5] - p[1] = vec[2] + vec[3] + vec[4] + vec[5];
```

è¿™ä¸å°±æ˜¯æˆ‘ä»¬è¦æ±‚çš„ ä¸‹æ ‡ 2 åˆ°ä¸‹æ ‡ 5 ä¹‹é—´çš„ç´¯åŠ å’Œå—ã€‚

å¦‚å›¾æ‰€ç¤ºï¼š

![image-20250411164629932](æ•°ç»„.assets/image-20250411164629932.png)

`p[5] - p[1]` å°±æ˜¯ çº¢è‰²éƒ¨åˆ†çš„åŒºé—´å’Œã€‚

è€Œ p æ•°ç»„æ˜¯æˆ‘ä»¬ä¹‹å‰å°±è®¡ç®—å¥½çš„ç´¯åŠ å’Œï¼Œæ‰€ä»¥åé¢æ¯æ¬¡æ±‚åŒºé—´å’Œçš„ä¹‹å æˆ‘ä»¬åªéœ€è¦ O(1) çš„æ“ä½œã€‚

**ç‰¹åˆ«æ³¨æ„**ï¼š åœ¨ä½¿ç”¨å‰ç¼€å’Œæ±‚è§£çš„æ—¶å€™ï¼Œè¦ç‰¹åˆ«æ³¨æ„ æ±‚è§£åŒºé—´ã€‚

å¦‚ä¸Šå›¾ï¼Œå¦‚æœæˆ‘ä»¬è¦æ±‚ åŒºé—´ä¸‹æ ‡ [2, 5] çš„åŒºé—´å’Œï¼Œé‚£ä¹ˆåº”è¯¥æ˜¯ p[5] - p[1]ï¼Œè€Œä¸æ˜¯ p[5] - p[2]ã€‚

**å¾ˆå¤šå½•å‹åœ¨ä½¿ç”¨å‰ç¼€å’Œçš„æ—¶å€™ï¼Œåˆ†ä¸æ¸…å‰ç¼€å’Œçš„åŒºé—´ï¼Œå»ºè®®ç”»ä¸€ç”»å›¾ï¼Œæ¨¡æ‹Ÿä¸€ä¸‹ æ€è·¯ä¼šæ›´æ¸…æ™°**ã€‚

### 2.å‰ç¼€å’Œ

```c
int main(){
	int n;
	printf("è¯·è¾“å…¥ä¸€ä¸ªæ•°å­—\n");
	scanf("%d",&n);
	int* arr = (int*)malloc((n+1)*sizeof(int));
	arr[0] = 0;
	int i;
	int num;
	for(i=1;i<=n;i++){
		scanf("%d",&num);
		arr[i] = arr[i-1]+num;
	}
	int a,b;
	while(scanf("%d%d",&a,&b)==2){
		printf("%d\n",arr[b+1]-arr[a]);
	}
	free(arr); 
	return 0;
} 
```

ç»å…¸çš„ **ã€Œå‰ç¼€å’Œä¼˜åŒ–åŒºé—´æ±‚å’Œã€** æ–¹æ³•ï¼Œä»£ç æ•´ä½“ä¸å¤æ‚ï¼Œä½†æœ‰å‡ ç‚¹ç»†èŠ‚å®¹æ˜“è®©äººä¸€å¼€å§‹ä¸å¤ªç†è§£ï¼š

```c
printf("%d\n", a[n+1] - a[m]);
```

------

âœ³ï¸ å®ƒåˆ°åº•åœ¨å¹²å•¥ï¼Ÿ

è¿™æ®µç¨‹åºçš„ç›®çš„æ˜¯ï¼š

> ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º `num` çš„æ•°ç»„ï¼Œç„¶åè¾“å…¥è‹¥å¹²ç»„åŒºé—´ `[m, n]`ï¼Œå¿«é€Ÿè®¡ç®—è¿™ä¸ªåŒºé—´å†…æ‰€æœ‰æ•°å­—çš„å’Œã€‚

------

âœ… è§£æ³•ï¼šå‰ç¼€å’Œ

å‰ç¼€å’Œå°±æ˜¯ï¼š
 `a[i]` è¡¨ç¤ºåŸæ•°ç»„å‰ `i` ä¸ªæ•°çš„**æ€»å’Œ**ã€‚
 ä¹Ÿå°±æ˜¯ï¼š

```c
a[0] = 0
a[1] = åŸæ•°ç»„çš„ç¬¬ä¸€ä¸ªæ•°
a[2] = åŸæ•°ç»„å‰ä¸¤ä¸ªæ•°ä¹‹å’Œ
a[3] = åŸæ•°ç»„å‰ä¸‰ä¸ªæ•°ä¹‹å’Œ
...
```

æ‰€ä»¥ä½ å°±å¯ä»¥ç”¨ï¼š

```c
åŸæ•°ç»„ä¸­ä» m åˆ° n çš„åŒºé—´å’Œ = a[n+1] - a[m]
```

------

â“ä¸ºä»€ä¹ˆæ˜¯ `a[n+1]` è€Œä¸æ˜¯ `a[n]`ï¼Ÿ

è¿™ä¸ªé—®é¢˜æ­£ä¸­æ ¸å¿ƒï¼

å…¶å®æ˜¯å› ä¸º `a[i]` å­˜çš„æ˜¯åŸæ•°ç»„ä¸‹æ ‡ **`i - 1` å‰é¢çš„å’Œ**ã€‚ä¸¾ä¸ªä¾‹å­ï¼š

å‡è®¾åŸæ•°ç»„æ˜¯ï¼š

```
åŸå§‹ç´¢å¼•:   0   1   2   3   4
åŸå§‹æ•°æ®:   5   7   3   2   9
```

å‰ç¼€å’Œæ•°ç»„ `a` ä¼šæ˜¯ï¼š

```
a[0] = 0
a[1] = 5           // 5
a[2] = 5 + 7 = 12  // ç´¢å¼• 0 å’Œ 1
a[3] = 15          // ç´¢å¼• 0,1,2
a[4] = 17          // ...
a[5] = 26
```

é‚£ä¹ˆåŒºé—´ `[1,3]`ï¼ˆä¹Ÿå°±æ˜¯åŸæ•°ç»„ç¬¬1~3é¡¹ï¼š7 + 3 + 2ï¼‰çš„å’Œæ˜¯ `a[4] - a[1] = 17 - 5 = 12`

> æ‰€ä»¥ä½ å¾—å– `a[n+1]` æ‰èƒ½åŒ…å«åŸæ•°ç»„çš„ `n` é¡¹ï¼

------

ğŸ’¡ æ‰€ä»¥ï¼Œè¿™ç§è§£æ³•çš„ä¼˜åŠ¿æ˜¯ï¼Ÿ

- **æŸ¥è¯¢é€Ÿåº¦éå¸¸å¿«**ï¼šé¢„å¤„ç†ä¸€æ¬¡å‰ç¼€å’Œä¹‹åï¼Œæ¯æ¬¡æŸ¥è¯¢åªéœ€è¦ **O(1)** æ—¶é—´ã€‚
- æ¯”èµ·ç”¨ `for` æ¯æ¬¡ä» `m` ç´¯åŠ åˆ° `n` çš„æš´åŠ›æ–¹å¼è¦é«˜æ•ˆå¾ˆå¤šï¼Œå°¤å…¶æ˜¯åœ¨æœ‰å¤§é‡åŒºé—´æŸ¥è¯¢çš„æ—¶å€™ã€‚

------

ğŸ§  æ€»ç»“é‡ç‚¹

| æ¦‚å¿µ                | è¯´æ˜                                   |
| ------------------- | -------------------------------------- |
| `a[i]`              | è¡¨ç¤ºå‰ `i` ä¸ªæ•°çš„å‰ç¼€å’Œ                |
| åŒºé—´ `[m, n]` çš„å’Œ  | `a[n+1] - a[m]`ï¼ˆåŒ…å« `a[n]`ï¼‰         |
| `scanf(...) == 2`   | è¡¨ç¤ºæˆåŠŸè¯»å–ä¸¤ä¸ªæ•´æ•°ï¼Œä½œä¸ºåˆ¤æ–­æ¡ä»¶     |
| ä¸ºä»€ä¹ˆå‰ç¼€ä» 1 å¼€å§‹ | å› ä¸º `a[0] = 0`ï¼Œæ–¹ä¾¿å¤„ç† `m=0` çš„æƒ…å†µ |

## 8.å¼€å‘å•†è´­ä¹°åœŸåœ°

åœ¨ä¸€ä¸ªåŸå¸‚åŒºåŸŸå†…ï¼Œè¢«åˆ’åˆ†æˆäº†n * mä¸ªè¿ç»­çš„åŒºå—ï¼Œæ¯ä¸ªåŒºå—éƒ½æ‹¥æœ‰ä¸åŒçš„æƒå€¼ï¼Œä»£è¡¨ç€å…¶åœŸåœ°ä»·å€¼ã€‚ç›®å‰ï¼Œæœ‰ä¸¤å®¶å¼€å‘å…¬å¸ï¼ŒA å…¬å¸å’Œ B å…¬å¸ï¼Œå¸Œæœ›è´­ä¹°è¿™ä¸ªåŸå¸‚åŒºåŸŸçš„åœŸåœ°ã€‚ 

ç°åœ¨ï¼Œéœ€è¦å°†è¿™ä¸ªåŸå¸‚åŒºåŸŸçš„æ‰€æœ‰åŒºå—åˆ†é…ç»™ A å…¬å¸å’Œ B å…¬å¸ã€‚

ç„¶è€Œï¼Œç”±äºåŸå¸‚è§„åˆ’çš„é™åˆ¶ï¼Œåªå…è®¸å°†åŒºåŸŸæŒ‰æ¨ªå‘æˆ–çºµå‘åˆ’åˆ†æˆä¸¤ä¸ªå­åŒºåŸŸï¼Œè€Œä¸”æ¯ä¸ªå­åŒºåŸŸéƒ½å¿…é¡»åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªåŒºå—ã€‚ ä¸ºäº†ç¡®ä¿å…¬å¹³ç«äº‰ï¼Œä½ éœ€è¦æ‰¾åˆ°ä¸€ç§åˆ†é…æ–¹å¼ï¼Œä½¿å¾— A å…¬å¸å’Œ B å…¬å¸å„è‡ªçš„å­åŒºåŸŸå†…çš„åœŸåœ°æ€»ä»·å€¼ä¹‹å·®æœ€å°ã€‚ 

æ³¨æ„ï¼šåŒºå—ä¸å¯å†åˆ†ã€‚

**ğŸ’¡è¾“å…¥æè¿°**

ç¬¬ä¸€è¡Œè¾“å…¥ä¸¤ä¸ªæ­£æ•´æ•°ï¼Œä»£è¡¨ n å’Œ mã€‚ 

æ¥ä¸‹æ¥çš„ n è¡Œï¼Œæ¯è¡Œè¾“å‡º m ä¸ªæ­£æ•´æ•°ã€‚

**ğŸ’¡è¾“å‡ºæè¿°**

è¯·è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œä»£è¡¨ä¸¤ä¸ªå­åŒºåŸŸå†…åœŸåœ°æ€»ä»·å€¼ä¹‹é—´çš„æœ€å°å·®è·ã€‚

**ğŸ’¡è¾“å…¥ç¤ºä¾‹**

```
3 3
1 2 3
2 1 3
1 2 3
```

**ğŸ’¡è¾“å‡ºç¤ºä¾‹**

```
0
```

**ğŸ’¡æç¤ºä¿¡æ¯**

å¦‚æœå°†åŒºåŸŸæŒ‰ç…§å¦‚ä¸‹æ–¹å¼åˆ’åˆ†ï¼š

```
1 2 | 3
2 1 | 3
1 2 | 3 
```

ä¸¤ä¸ªå­åŒºåŸŸå†…åœŸåœ°æ€»ä»·å€¼ä¹‹é—´çš„æœ€å°å·®è·å¯ä»¥è¾¾åˆ° 0ã€‚

**ğŸ’¡æ•°æ®èŒƒå›´**

1 <= n, m <= 100ï¼›n å’Œ m ä¸åŒæ—¶ä¸º 1ã€‚

### 1.åˆ‡å‰² + å‰ç¼€å’Œ

```c
```

